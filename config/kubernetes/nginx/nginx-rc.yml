apiVersion: v1
kind: ReplicationController
metadata:
  name: nginx-rc
  labels:
    app: nginx-rc
spec:
  replicas: 2
  selector:
    app: nginx-rc
  template:
    metadata:
      labels:
        app: nginx-rc
    spec:
      containers:
      -
        image: delermando/nginx-django:1.0
        name: nginx-rc
        ports:
          - 
            containerPort: 80
        command: ["/usr/local/bin/entrypoint.sh"]
        volumeMounts:
          -
            mountPath: /etc/nginx/sites-enabled
            name: sites-enabled
          -
            mountPath: /etc/nginx/nginx.conf
            name: nginx-conf
          -
            mountPath: /usr/src/app
            name: app-src
          -
            mountPath: /usr/local/bin/entrypoint.sh
            name: entrypoint
          -
            mountPath: /etc/uwsgi
            name: uwsgi-conf
      volumes:
        -
          hostPath:
            path: /home/dsantos/Projects/Development/example-kubernetes-django/config/nginx/sites-enabled
          name: sites-enabled
        -
          hostPath:
            path: /home/dsantos/Projects/Development/example-kubernetes-django/config/nginx/server/nginx.conf
          name: nginx-conf
        -
          hostPath:
            path: /home/dsantos/Projects/Development/example-kubernetes-django/src
          name: app-src
        -
          hostPath:
            path: /home/dsantos/Projects/Development/example-kubernetes-django/config/entrypoint.sh
          name: entrypoint
        -
          hostPath:
            path: /home/dsantos/Projects/Development/example-kubernetes-django/config/uwsgi
          name: uwsgi-conf

